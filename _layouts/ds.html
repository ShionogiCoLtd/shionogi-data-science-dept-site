---
layout: default
---

<!-- Bulmaã¨ä»–ã®CSSã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« -->
<style>
  /* ãƒ¢ãƒã‚¤ãƒ«å°‚ç”¨ï¼šç”»é¢ã„ã£ã±ã„ã«è¡¨ç¤º */
  @media (max-width: 768px) {
    /* Bulmaã®containerã‚’å¼·åˆ¶çš„ã«ç„¡åŠ¹åŒ– */
    body .container,
    body .section,
    body main,
    body #main-content {
      padding-left: 0 !important;
      padding-right: 0 !important;
      margin-left: 0 !important;
      margin-right: 0 !important;
      max-width: 100% !important;
    }
    
    /* ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆå…¨ä½“ */
    .ds-event-report {
      margin: 0 !important;
      padding: 0 !important;
      max-width: 100% !important;
      width: 100% !important;
    }
    
    /* ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”»é¢å¹…ã„ã£ã±ã„ã« */
    .ds-hero {
      margin-left: calc(-50vw + 50%) !important;
      margin-right: calc(-50vw + 50%) !important;
      width: 100vw !important;
      max-width: 100vw !important;
      padding-left: 0.75rem !important;
      padding-right: 0.75rem !important;
    }
    
    /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ©ãƒƒãƒ‘ãƒ¼ã‚‚ç”»é¢å¹…ã„ã£ã±ã„ã« */
    .ds-content-wrapper {
      margin-left: calc(-50vw + 50%) !important;
      margin-right: calc(-50vw + 50%) !important;
      width: 100vw !important;
      max-width: 100vw !important;
    }
    
    .ds-container {
      padding: 1rem 0.5rem !important;
      margin: 0 !important;
      max-width: 100% !important;
      width: 100% !important;
    }
    
    .ds-markdown-content {
      padding: 0 !important;
      margin: 0 !important;
    }
  }
</style>

<!-- ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå®Œå…¨ç‰ˆï¼‰ -->
<article class="ds-event-report">
  
  <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section class="ds-hero">
    <div class="ds-hero-content">
      <h1 class="ds-hero-title">{{ page.title }}</h1>
      {% if page.event_date %}
      <div class="ds-hero-meta">
        <span class="ds-meta-item">
          <svg class="ds-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
            <line x1="16" y1="2" x2="16" y2="6"/>
            <line x1="8" y1="2" x2="8" y2="6"/>
            <line x1="3" y1="10" x2="21" y2="10"/>
          </svg>
          {{ page.event_date }}
        </span>
        {% if page.event_location %}
        <span class="ds-meta-item">
          <svg class="ds-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
            <circle cx="12" cy="10" r="3"/>
          </svg>
          {{ page.event_location }}
        </span>
        {% endif %}
      </div>
      {% endif %}
    </div>
  </section>

  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  <div class="ds-content-wrapper">
    <div class="ds-container">
      <div class="ds-markdown-content">
        {{ content }}
      </div>
    </div>
  </div>

</article>

<!-- ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³å¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const content = document.querySelector('.ds-markdown-content');
  if (!content) return;

  // h2ãƒ¬ãƒ™ãƒ«ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆæœ€åˆã®2ã¤ã®h2ã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
  const h2Headings = Array.from(content.querySelectorAll('h2'));
  let skipCount = 0;
  
  h2Headings.forEach((h2, h2Index) => {
    const h2Text = h2.textContent.trim();
    
    // æœ€åˆã®2ã¤ã®h2ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã¨ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ï¼‰ã¯ã‚¹ã‚­ãƒƒãƒ—
    if (skipCount < 2) {
      skipCount++;
      return;
    }

    // h2ã®æ¬¡ã®è¦ç´ ã‹ã‚‰æ¬¡ã®h2ã¾ã§ã‚’å–å¾—
    const sectionElements = [];
    let currentEl = h2.nextElementSibling;
    
    while (currentEl && currentEl.tagName !== 'H2') {
      sectionElements.push(currentEl);
      currentEl = currentEl.nextElementSibling;
    }

    // å°å…¥æ®µè½ï¼ˆæœ€åˆã®pã‚¿ã‚°ï¼‰ã‚’å–å¾—
    const introText = sectionElements.find(el => el.tagName === 'P');
    
    // h3è¦‹å‡ºã—ã‚’åé›†ã—ã€å‹•ç”»ã®æœ‰ç„¡ã‚’ãƒã‚§ãƒƒã‚¯
    const h3Headings = sectionElements.filter(el => el.tagName === 'H3');
    const speakerList = h3Headings.map(h3 => {
      const h3Text = h3.textContent.trim();
      
      // ã“ã®h3ã®å¾Œã«å‹•ç”»ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
      let hasVideo = false;
      let nextEl = h3.nextElementSibling;
      
      // æ¬¡ã®h3ã¾ã§ã®è¦ç´ ã‚’ãƒã‚§ãƒƒã‚¯
      while (nextEl && nextEl.tagName !== 'H3') {
        if (nextEl.tagName === 'IFRAME' || 
            nextEl.querySelector('iframe') ||
            nextEl.classList.contains('ds-video')) {
          hasVideo = true;
          break;
        }
        nextEl = nextEl.nextElementSibling;
      }
      
      return {
        text: h3Text,
        hasVideo: hasVideo
      };
    });

    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ã‚«ãƒ¼ãƒ‰ã‚’ä½œæˆ
    const sectionCard = document.createElement('div');
    sectionCard.className = 'ds-section-card';
    
    const sectionHeader = document.createElement('div');
    sectionHeader.className = 'ds-section-header';
    
    const sectionTitle = document.createElement('h2');
    sectionTitle.className = 'ds-section-title';
    sectionTitle.textContent = h2Text;
    
    const sectionIntro = document.createElement('p');
    sectionIntro.className = 'ds-section-intro';
    sectionIntro.textContent = introText ? introText.textContent.trim() : '';
    
    // è¬›æ¼”è€…ãƒªã‚¹ãƒˆã‚’ä½œæˆ
    const speakerListEl = document.createElement('div');
    speakerListEl.className = 'ds-speaker-list';
    
    speakerList.forEach(speaker => {
      const speakerItem = document.createElement('div');
      speakerItem.className = 'ds-speaker-item';
      
      const speakerIcon = document.createElement('span');
      speakerIcon.className = 'ds-speaker-icon';
      // å‹•ç”»ã®æœ‰ç„¡ã§ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¤‰æ›´
      speakerIcon.innerHTML = speaker.hasVideo ? 'ğŸ¥' : 'ğŸ“„';
      
      const speakerName = document.createElement('span');
      speakerName.className = 'ds-speaker-name-preview';
      speakerName.textContent = speaker.text;
      
      speakerItem.appendChild(speakerIcon);
      speakerItem.appendChild(speakerName);
      speakerListEl.appendChild(speakerItem);
    });
    
    const expandButton = document.createElement('button');
    expandButton.className = 'ds-expand-button';
    expandButton.innerHTML = `
      <span class="ds-expand-text">è©³ç´°ã‚’è¦‹ã‚‹</span>
      <svg class="ds-expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    `;
    
    sectionHeader.appendChild(sectionTitle);
    sectionHeader.appendChild(sectionIntro);
    sectionHeader.appendChild(speakerListEl);
    sectionHeader.appendChild(expandButton);
    
    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆ
    const sectionContent = document.createElement('div');
    sectionContent.className = 'ds-section-content';
    
    const sectionBody = document.createElement('div');
    sectionBody.className = 'ds-section-body';
    
    // å°å…¥æ®µè½ä»¥å¤–ã®è¦ç´ ã‚’ç§»å‹•
    sectionElements.forEach((el, index) => {
      if (index === 0 && el.tagName === 'P') {
        // æœ€åˆã®pã¯æ—¢ã«ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¡¨ç¤ºæ¸ˆã¿ãªã®ã§ã‚¹ã‚­ãƒƒãƒ—
        el.remove();
      } else {
        sectionBody.appendChild(el);
      }
    });
    
    sectionContent.appendChild(sectionBody);
    
    // çµ„ã¿ç«‹ã¦
    sectionCard.appendChild(sectionHeader);
    sectionCard.appendChild(sectionContent);
    
    // h2ã®å‰ã«æŒ¿å…¥
    h2.parentNode.insertBefore(sectionCard, h2);
    h2.remove();
    
    // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
    expandButton.addEventListener('click', function(e) {
      e.stopPropagation();
      const isActive = sectionCard.classList.contains('ds-section-active');
      
      if (isActive) {
        sectionCard.classList.remove('ds-section-active');
        expandButton.querySelector('.ds-expand-text').textContent = 'è©³ç´°ã‚’è¦‹ã‚‹';
      } else {
        sectionCard.classList.add('ds-section-active');
        expandButton.querySelector('.ds-expand-text').textContent = 'é–‰ã˜ã‚‹';
      }
    });
  });

  // å‹•ç”»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
  content.querySelectorAll('iframe').forEach(iframe => {
    if (!iframe.closest('.ds-video-wrapper')) {
      const wrapper = document.createElement('div');
      wrapper.className = 'ds-video-wrapper';
      iframe.parentNode.insertBefore(wrapper, iframe);
      wrapper.appendChild(iframe);
    }
  });

  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('ds-visible');
      }
    });
  }, observerOptions);

  content.querySelectorAll('.ds-section-card').forEach(el => {
    el.classList.add('ds-fade-in');
    observer.observe(el);
  });
});
</script>